{% extends 'ECBApp/base.html' %}
{% load static %}
{% load custom_filters %}

{% block breadcrumb %}
    {% for crumb in breadcrumb %}
        <a href="{{ crumb.url }}" class="breadcrumb-item">{{ crumb.name }}</a>
        {% if not forloop.last %} / {% endif %}
    {% endfor %}
{% endblock %}

{% block header_title %}
    Pay Bill
{% endblock %}
{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/initiate_payment.css' %}?v=1.0">
</head>
<body>
    <div class="container-payment">
        <div class="main-content-payment">
            <div class="payment-section">
                <!-- Bill Details -->
                <div class="pay_bill">
                    <h2 class="section-title">Pay Your Bill</h2>
                    <p><strong>Bill Date:</strong> {{ bill.billDate }}</p>
                    <p><strong>Amount Due:</strong> <span class="amount-due">â‚±{{ bill.totalAmount }}</span></p>
                </div>
    
                <!-- Payment Form -->
                <div class="form">
                    <form method="post" class="payment-form">
                        {% csrf_token %}
                        <fieldset>
                            <legend>Payment Details</legend>
    
                            <label for="amount_paid">Amount to Pay:</label>
                            <input type="number" id="amount_paid" name="amount_paid" step="0.01" 
                                   max="{{ bill.totalAmount }}" placeholder="Enter amount" required>
    
                            <label for="payment_method">Payment Method:</label>
                            <select id="payment_method" name="payment_method" required>
                                <option value="" disabled selected>Select a method</option>
                                <option value="Cash">Cash</option>
                                <option value="Credit Card">Credit Card</option>
                                <option value="Online Transfer">Online Transfer</option>
                            </select>
    
                            <label for="payment_note">Payment Note (Optional):</label>
                            <textarea id="payment_note" name="payment_note" 
                                      placeholder="Add a note about your payment (if any)"></textarea>
    
                            <button type="submit" class="btn-submit">Submit Payment</button>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
{% endblock %}
